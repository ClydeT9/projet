<style>
.dropdown.menu.categories {
  display:none;
}
.header-brand2 {
    font-size:25px;
}
@media only screen and (max-width: 800px){
.dropdown.menu.categories {
  display:inline-block;
}
.dropdown.menu.categories a.nav-link.pr-0.leading-none {
        color: rgb(73, 80, 85);
}
}
.une {
    color: #495056;
    padding-left: 4px;
    font-weight: bold;
    margin-right: 1px;
    font-family: 'Maven Pro', sans-serif;
}
.app {
    font-weight: 100;
    color: #495056;
    font-family: 'Maven Pro', sans-serif;
}

input[type="text"]:focus + input[type="submit"] {
  /* some sweet CSS */
  background-color: green;
}

ul.fixe{
    display:none!important;
}
ul.fixe.focused {
    display:block!important;
}
.form-control.search {
    font-family: 'Montserrat';
    font-size: 0.8em;
    width: 25em;
    height: 2.25rem;
    font-weight:bold;
    background: #f5f7fb;
    transition: width 0.3s 0.25s;
    -webkit-transition: width 0.3s 0.25s;
}

.form-control.search:focus {
    box-shadow: 0 1px 0 rgba(12, 13, 14, 0.1), 0 1px 6px rgba(59, 64, 69, 0.1);
     width:48em;
     border-radius:2px;
}
div#eac-container-qq,div#eac-container-q {
    width: 38.4em;
}
div#eac-container-qq {
    z-index:10000;
}
div#eac-container-q {
    z-index:10001;
}
span.input-icon-addon.focused {
    display:none;
}
.overlay.focused {
  opacity:    0.5; 
  background: #000; 
  width:      100%;
  height:     100%; 
  z-index:    10;
  top:        60px; 
  left:       0; 
  position:   fixed; 
}

.easy-autocomplete-container {
    z-index: 10000;
}
.nav-wrapper .header.fixed {
    z-index: 10000;
}

li.selected {
    box-shadow: 0 15px 30px 0 rgba(0, 0, 0, 0.11), 0 5px 15px 0 rgba(0, 0, 0, 0.08);
    border-radius: 0 0 4px 4px;
}
.easy-autocomplete-container ul {
    border-top:none;
    border-radius: 4px;
}
.easy-autocomplete input.focused {
    border-radius:4px 4px 0px 0px;
}
.easy-autocomplete input {
    box-shadow:none;
    border-radius:2px;
}
#eac-container-q ul.dele{
    display:none!important;
    transition-property: display;
    transition-delay: 4s;
}
.mystyle {
display:none!important;
}


<%# search %>
.input-icon {
    z-index: 999;
}
.input-icon .form-control {
    background: white;
    border: 1px solid #e0e5ec;
}
.input-icon .form-control.scrolled {
  background:#f5f7fb;
  transition: background 3s;
}
#bloc2 h6 {
    padding-bottom: 4px;
    padding-top:8px;
    font-size: 16px;
}
span.s-2 {
    color: #8795a1;
    font-size: 14px;
}
.easy-autocomplete-container ul li, .easy-autocomplete-container ul .eac-category {
    border-bottom: 1px solid #e6e7e9;
    border-radius: 0px;
}
.nav-wrapper .header,.navbar-light .navbar-text,.navbar-light .navbar-brand {
    display: flex;
    align-items: center;
}
.navbar-light .navbar-brand {
    padding-top:2px;
    padding-bottom:2px;
}
@media only screen and (max-width: 1000px){ 
.form-control.search:focus {
     width:25em;
}
}

@media only screen and (max-width: 800px){ 
#connexion {
    min-height:17em;
    padding: 20px;
}
#connexion h4 {
    font-size: 1em;
}
#connexion h6 {
    font-size: 0.9em;
    margin-bottom: 20px;
}
form.input-icon {
  display:none;
}
} 
i.fas.fa-bars {
    margin-right:5px;
    margin-left:5px;
}

.dropdown-menu.scrollable-menu.show {
    box-shadow: 0 15px 30px 0 rgba(0, 0, 0, 0.11), 0 5px 15px 0 rgba(0, 0, 0, 0.08);
    padding-top: 0px;
}
li.main-sub {
    color: #495055;
    background: #f5f7fb;
    font-weight: bold;
    border-top: 1px solid #e0e5ec;
    border-bottom: 1px solid #e0e5ec;
    font-size:0.8rem;
    padding:10px;
}
li.sub-drop {
    padding-left: 8px;
    padding-top: 2px;
    padding-bottom:2px;
}
li.sub-drop a {
    font-size: 0.8rem;
    font-weight: 100;
    color: #868e96!important;
}
.scrollable-menu {
    height: auto;
    max-height: 320px;
    min-width:240px;
    overflow-x: hidden;
}
.dropdown.cat {
    display:none;
}

@media only screen and (max-width: 800px){ 
ul.navbar-nav.mr-auto.pl-4 {
    display:none!important;
}
    .dropdown.cat {
    display:block;
}
}

.hidecontent {
    display:none;
}

/* search */
.imagesearch {
    width:44px;
    border-radius: 0.25em;
}
.flex {
    display:flex!important;
    padding: 15px;
}
.flex h6 {
        padding-bottom: 0.4rem;
}

/* dropdown */
.menudropdown {
    position: relative;
    margin-right:20px;
    margin-left:20px;
    width: 252px;
    border: 1px solid #e0e5ec;
    border-radius: 3px;
}
.menudropdown:hover .contentdropdown a {
    display:block;
}
.contentdropdown {
    z-index: 999;
    min-width:250px;
    position:absolute;
    box-shadow: 0 15px 30px 0 rgba(0, 0, 0, 0.11), 0 5px 15px 0 rgba(0, 0, 0, 0.08);
}
.contentdropdown a {
    text-decoration: none;
    background: white;
    display: none;
    padding: 12px;
    font-size: 14px;
    line-height: 20px;
    cursor: pointer;
    color: #434A54;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: background-color .25s linear;
}
.menudropdown:hover .contentdropdown a {
    display:block;
}
.contentdropdown a:hover {
    background-color: #E6E9ED;
}
.btn.dropdown {
    color: #adb5bc;
    font-weight: bold;
    padding: 6px 34px 6px 12px;
    font-size: 12px;
    width: 250px;
    line-height: 20px;
    min-height: 32px;
    transition: background-color .2s linear;
    margin-left: 0px!important;
    text-align: left;
}
.btn.dropdown:hover {
    background-color: #E6E9ED;
} 
i.fas.fa-angle-down.dropdown {
    position: absolute;
    right: 10px;
    bottom: 10px;
    cursor: pointer;
    color: #adb5bc;
}

.menudropdown.index, .menudropdown.bis, .menudropdown.biss {
    display:none;
}
.input-icon .form-control:not(:last-child) {
    padding-bottom:8px;
}

img.logo {
width:24px;
border-radius:2px;
position:relative;
top:1px;
}

input#q:hover {
    background-color: #E6E9ED;
}
@media only screen and (max-width: 1000px){ 
.menuhide {
    display:none!important;
}
}
</style>
<div class="overlay"></div>  
<div class="nav-wrapper">  
<div class="header">
<div class="container">
<nav class="navbar navbar-expand-lg navbar-light">
<%= link_to root_path do %>
  <div class="navbar-brand">
  <img src="/assets/logo_uneapp.svg" class="logo" alt="logo uneapp">
  <span class="une">une</span><span class="app">app</span></div>
<% end %>


    <ul class="navbar-nav mr-auto pl-4">


                    <%= form_with url: search_path, local: true, method: :get, html: { class: "input-icon" } do |form| %>
                    <%= form.text_field :q, placeholder: "À la recherche d'une app professionnelle ...", data: { behavior: "autocomplete" }, onkeypress:"myFunction()",class: "form-control search" %>
                        <span class="input-icon-addon">
                        <i class="fas fa-search"></i>
                        </span>
                    <% end %>

<div class="menuhide">
<div class="menudropdown index">
    <div class="btn dropdown"><i class="far fa-calendar mr-2"></i> Les plus récentes</div>
    <i class="fas fa-angle-down dropdown"></i>
    <div class="contentdropdown">
        <a href="/hot"><i class="fas fa-fire mr-2"></i> Les plus populaires</a>
        <a href="/random"><i class="fas fa-random mr-2"></i> Classement aléatoire</a>
    </div>
</div>
<div class="menudropdown bis">
    <div class="btn dropdown"><i class="fas fa-fire mr-2"></i> Les plus populaires</div>
    <i class="fas fa-angle-down dropdown"></i>
    <div class="contentdropdown">
        <a href="https://www.uneapp.com"><i class="far fa-calendar mr-2"></i> Les plus récentes</a>
        <a href="/random"><i class="fas fa-random mr-2"></i> Classement aléatoire</a>
    </div>
</div>
<div class="menudropdown biss">
    <div class="btn dropdown"><i class="fas fa-random mr-2"></i> Classement aléatoire</div>
    <i class="fas fa-angle-down dropdown"></i>
    <div class="contentdropdown">
        <a href="https://www.uneapp.com"><i class="far fa-calendar mr-2"></i> Les plus récentes</a>
        <a href="/hot"><i class="fas fa-fire mr-2"></i> Les plus populaires</a>
    </div>
</div>
<div class="menudropdown bisss">
    <div class="btn dropdown"><i class="fas fa-filter"></i> Classer les apps ...</div>
    <i class="fas fa-angle-down dropdown"></i>
    <div class="contentdropdown">
        <a href="/hot"><i class="fas fa-fire mr-2"></i> Les plus populaires</a>
        <a href="https://www.uneapp.com"><i class="far fa-calendar mr-2"></i> Les plus récentes</a>
        <a href="/random"><i class="fas fa-random mr-2"></i> Classement aléatoire</a>
    </div>
</div>
</div>
              
</ul>    
    <span class="navbar-text">
<% if user_signed_in? %>
                    <div class="dropdown menu">
                    <a href="#" class="nav-link pr-0 leading-none" data-toggle="dropdown">
                    <%= image_tag avatar_url(current_user), class:"avatar" %>
                    <span class="nameheader">
                    <%= current_user.name %> <%= current_user.fullname %>
                    <small class="text-muted d-block mt-1"><%= current_user.email %></small>
                    </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                        <%= link_to edit_user_registration_path do %>
                        <span class="dropdown-item">
                        <i class="far fa-user"></i> Mon profil
                        </span>
                        <% end %>

                        <% if current_user.role_editor? %>
                            <%= link_to new_software_path do %>
                            <span class="dropdown-item">
                            <i class="fas fa-plus"></i> Ajouter une app
                            </span>
                            <% end %>

                            <%= link_to myapp_path do %>
                            <span class="dropdown-item">
                            <i class="fas fa-list-ol"></i> Mes applications
                            </span>
                            <% end %>


                            <%= link_to premium_path do %>
                            <span class="dropdown-item">
                            <i class="fas fa-award"></i> Premium
                            </span>
                            <% end %>
                        <% end %>


                        <%= link_to likes_path do %>
                        <span class="dropdown-item">
                        <i class="far fa-heart"></i> Mes favoris
                        </span>
                        <% end %>
                        <div class="dropdown-divider"></div>
                        <%= link_to new_contact_path do %>
                        <span class="dropdown-item">
                        <i class="far fa-question-circle"></i> Besoin d'aide ? 
                       <% end %>
                        </a>
                        <%= link_to destroy_user_session_path, method: :delete do%>
                        <span class="dropdown-item">
                        <i class="fas fa-sign-out-alt"></i> Déconnexion
                        </span>
                        <% end %>
                    </div>
                </div>
    <% else %>



       <a class="btn btn-secondary btn-sm" data-toggle="modal" data-target="#signUpModal">Inscription</a>
       <a class="btn btn-primary btn-sm" data-toggle="modal" data-target="#logInModal">Connexion</a>
    <% end %>
    </span>
  
</nav>
</div></div><%# main et container %>
</div><%# nav wrapper %>

<% if (!user_signed_in?) %>
<div id="connexion">
    <h4>Trouvez une app qui améliorera votre quotidien professionnel</h4>
    <h6>Une façon simple de retrouver des applications web adaptées à vos besoins !</h6>
    <%= link_to user_facebook_omniauth_authorize_path do %><button class="facebooklogin"><i class="fab fa-facebook fa-2x"></i>Continuer avec Facebook</button><% end %>              
    <%= link_to user_google_oauth2_omniauth_authorize_path do %><button class="googlelogin"><i class="fab fa-google fa-2x"></i>Continuer avec Google</button><% end %>
</div>

<% end %>
<script>
// navigation
// cache the element
var $navBar = $('.header');

// find original navigation bar position
var navPos = $navBar.offset().top;

// on scroll
$(window).scroll(function () {

  // get scroll position from top of the page
  var scrollPos = $(this).scrollTop();

  // check if scroll position is >= the nav position
  if (scrollPos >= navPos) {
    $navBar.addClass('fixed');
  } else {
    $navBar.removeClass('fixed');
  }

  if (scrollPos <= navPos) {
    $navBar.removeClass('fixed');
  } else {
    $navBar.addClass('fixed');
  }
});

// naviation 2
function setFocused() {
  var results = document.querySelectorAll('.overlay, .fixe, .form-control.search,span.input-icon-addon,.easy-autocomplete input');
  for (result of results) {
    result.classList.add('focused');
  }
}

function unsetFocused() {
  var results = document.querySelectorAll('.overlay, .fixe, .form-control.search,span.input-icon-addon,.easy-autocomplete input');
  for (result of results) {
    result.classList.remove('focused');
  }
}

var results = document.querySelectorAll('input#q');
for (result of results) {
  result.addEventListener("focus", setFocused);
  result.addEventListener("blur", unsetFocused);
}

// navigation 3
$(function () {
  $(document).scroll(function () {
    var $nav = $(".input-icon .form-control");
    $nav.toggleClass('scrolled', $(this).scrollTop() > 0);
  });
});

// navigation 4
$('.navbar-brand').click(function () {
  $('.containershow').addClass('hidecontent');
});
</script>