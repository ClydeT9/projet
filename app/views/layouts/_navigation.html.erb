<style>
.dropdown.menu.categories {
  display:none;
}
.header-brand2 {
    font-size:25px;
}
@media only screen and (max-width: 800px){
.dropdown.menu.categories {
  display:inline-block;
}
.dropdown.menu.categories a.nav-link.pr-0.leading-none {
        color: rgb(73, 80, 85);
}
}
.une {
    background: #437dd2;
    color: white;
    padding-left: 4px;
    padding-right: 4px;
    font-weight: bold;
    border-radius: 8px 0px;
    margin-right: 1px;
}
.app {
    font-weight: bold;
    color: #495056;
}

input[type="text"]:focus + input[type="submit"] {
  /* some sweet CSS */
  background-color: green;
}

ul.fixe{
    display:none!important;
}
ul.fixe.focused {
    display:block!important;
}
.form-control.search {
    font-family: 'Montserrat';
    font-size: 0.8em;
    width: 25em;
    height: 2.1rem;
    background: #f5f7fb;
    transition: width 0.3s 0.25s;
    -webkit-transition: width 0.3s 0.25s;
}

.form-control.search:focus {
    box-shadow: 0 1px 0 rgba(12, 13, 14, 0.1), 0 1px 6px rgba(59, 64, 69, 0.1);
     width:48em;
     border-radius:2px;
}
div#eac-container-qq,div#eac-container-q {
    width: 38.4em;
}
div#eac-container-qq {
    z-index:10000;
}
div#eac-container-q {
    z-index:10001;
}
span.input-icon-addon.focused {
    display:none;
}
.overlay.focused {
  opacity:    0.5; 
  background: #000; 
  width:      100%;
  height:     100%; 
  z-index:    10;
  top:        60px; 
  left:       0; 
  position:   fixed; 
}

.easy-autocomplete-container {
    z-index: 10000;
}
.nav-wrapper .header.fixed {
    z-index: 10000;
}

li.selected {
    box-shadow: 0 15px 30px 0 rgba(0, 0, 0, 0.11), 0 5px 15px 0 rgba(0, 0, 0, 0.08);
    border-radius: 0 0 4px 4px;
}
.easy-autocomplete-container ul {
    border-top:none;
    border-radius: 4px;
}
.easy-autocomplete input.focused {
    border-radius:4px 4px 0px 0px;
}
.easy-autocomplete input {
    box-shadow:none;
    border-radius:2px;
}
#eac-container-q ul.dele{
    display:none!important;
    transition-property: display;
    transition-delay: 4s;
}
.mystyle {
display:none!important;
}


<%# search %>
.input-icon .form-control {
    background: white;
    border: 1px solid #e0e5ec;
}
.input-icon .form-control.scrolled {
  background:#f5f7fb;
  transition: background 3s;
}
#bloc2 h6 {
    padding-bottom: 4px;
    padding-top:8px;
    font-size: 16px;
}
span.s-2 {
    color: #8795a1;
    font-size: 14px;
}
.easy-autocomplete-container ul li, .easy-autocomplete-container ul .eac-category {
    border-bottom: 1px solid #e6e7e9;
    border-radius: 0px;
}
.nav-wrapper .header,.navbar-light .navbar-text,.navbar-light .navbar-brand {
    display: flex;
    align-items: center;
}
.navbar-light .navbar-brand {
    padding-top:2px;
    padding-bottom:2px;
}
@media only screen and (max-width: 1000px){ 
.form-control.search:focus {
     width:25em;
}
}

@media only screen and (max-width: 800px){ 
#connexion {
    min-height:17em;
    padding: 20px;
}
#connexion h4 {
    font-size: 1em;
}
#connexion h6 {
    font-size: 0.9em;
    margin-bottom: 20px;
}
form.input-icon {
  display:none;
}
} 
i.fas.fa-bars {
    margin-right:5px;
    margin-left:5px;
}

.dropdown-menu.scrollable-menu.show {
    box-shadow: 0 15px 30px 0 rgba(0, 0, 0, 0.11), 0 5px 15px 0 rgba(0, 0, 0, 0.08);
    padding-top: 0px;
}
li.main-sub {
    color: #495055;
    background: #f5f7fb;
    font-weight: bold;
    border-top: 1px solid #e0e5ec;
    border-bottom: 1px solid #e0e5ec;
    font-size:0.8rem;
    padding:10px;
}
li.sub-drop {
    padding-left: 8px;
    padding-top: 2px;
    padding-bottom:2px;
}
li.sub-drop a {
    font-size: 0.8rem;
    font-weight: 100;
    color: #868e96!important;
}
.scrollable-menu {
    height: auto;
    max-height: 320px;
    min-width:240px;
    overflow-x: hidden;
}
.dropdown.cat {
    display:none;
}
@media only screen and (max-width: 800px){ 
    .dropdown.cat {
    display:block;
}
}

@media only screen and (max-width: 800px){ 
ul.navbar-nav.mr-auto.pl-4 {
    display:none!important;
}
}

.hidecontent {
    display:none;
}

/* search */
.imagesearch {
    width:44px;
    border-radius: 0.25em;
}
.flex {
    display:flex!important;
    padding: 15px;
}
.flex h6 {
        padding-bottom: 0.4rem;
}


/* SELECT TEST */
/*the container must be positioned relative:*/
.custom-select {
  position: relative;
  font-family: Arial;
}

.custom-select select {
  display: none; /*hide original SELECT element:*/
}

.select-selected {
  background-color: DodgerBlue;
}

/*style the arrow inside the select element:*/
.select-selected:after {
  position: absolute;
  content: "";
  top: 14px;
  right: 10px;
  width: 0;
  height: 0;
  border: 6px solid transparent;
  border-color: #fff transparent transparent transparent;
}

/*point the arrow upwards when the select box is open (active):*/
.select-selected.select-arrow-active:after {
  border-color: transparent transparent #fff transparent;
  top: 7px;
}

/*style the items (options), including the selected item:*/
.select-items div,.select-selected {
  color: #ffffff;
  padding: 8px 16px;
  border: 1px solid transparent;
  border-color: transparent transparent rgba(0, 0, 0, 0.1) transparent;
  cursor: pointer;
  user-select: none;
}

/*style items (options):*/
.select-items {
  position: absolute;
  background-color: DodgerBlue;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 99;
}

/*hide the items when the select box is closed:*/
.select-hide {
  display: none;
}

.select-items div:hover, .same-as-selected {
  background-color: rgba(0, 0, 0, 0.1);
}
</style>
<div class="overlay"></div>  
<div class="nav-wrapper">  
<div class="header">
<div class="container">
<nav class="navbar navbar-expand-lg navbar-light">
<%= link_to root_path do %>
  <div class="navbar-brand"><span class="une">une</span><span class="app">app</span></div>
<% end %>


    <ul class="navbar-nav mr-auto pl-4">

<%# <div class="custom-select mr-4" style="width:200px;">
  <select>
    <option value="0">Select car:</option>
    <option value="1">Audi</option>
    <option value="2">BMW</option>
    <option value="3">Citroen</option>
    <option value="4">Ford</option>
    <option value="5">Honda</option>
  </select>
</div> %>


                    <%= form_with url: search_path, local: true, method: :get, html: { class: "input-icon" } do |form| %>
                    <%= form.text_field :q, placeholder: "A la recherche d'une app professionnel ...", data: { behavior: "autocomplete" }, onkeypress:"myFunction()",class: "form-control search" %>
                        <span class="input-icon-addon">
                        <i class="fas fa-search"></i>
                        </span>
                    <% end %>
              
</ul>    
    <span class="navbar-text">
<% if user_signed_in? %>
                    <div class="dropdown menu">
                    <a href="#" class="nav-link pr-0 leading-none" data-toggle="dropdown">
                    <%= image_tag avatar_url(current_user), class:"avatar" %>
                    <span class="nameheader">
                    <%= current_user.name %> <%= current_user.fullname %>
                    <small class="text-muted d-block mt-1"><%= current_user.email %></small>
                    </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                        <%= link_to edit_user_registration_path do %>
                        <span class="dropdown-item">
                        <i class="far fa-user"></i> Mon profil
                        </span>
                        <% end %>

                        <% if current_user.role_editor? %>
                            <%= link_to new_software_path do %>
                            <span class="dropdown-item">
                            <i class="fas fa-plus"></i> Ajouter une app
                            </span>
                            <% end %>

                            <%= link_to myapp_path do %>
                            <span class="dropdown-item">
                            <i class="fas fa-list-ol"></i> Mes applications
                            </span>
                            <% end %>
                        <% end %>

                        <%= link_to likes_path do %>
                        <span class="dropdown-item">
                        <i class="far fa-heart"></i> Mes favoris
                        </span>
                        <% end %>
                        <div class="dropdown-divider"></div>
                        <%= link_to new_contact_path do %>
                        <span class="dropdown-item">
                        <i class="far fa-question-circle"></i> Besoin d'aide ? 
                       <% end %>
                        </a>
                        <%= link_to destroy_user_session_path, method: :delete do%>
                        <span class="dropdown-item">
                        <i class="fas fa-sign-out-alt"></i> Déconnexion
                        </span>
                        <% end %>
                    </div>
                </div>
    <% else %>



       <a class="btn btn-secondary btn-sm" data-toggle="modal" data-target="#signUpModal">Inscription</a>
       <a class="btn btn-primary btn-sm" data-toggle="modal" data-target="#logInModal">Connexion</a>
    <% end %>
    </span>
  
</nav>
</div></div><%# main et container %>
</div><%# nav wrapper %>


<% if (!user_signed_in?) %>
<div id="connexion">
    <h4>Trouvez une app qui améliorera votre quotidien professionnel</h4>
    <h6>Une façon simple de retrouver des applications web qui sont adaptés à vos besoins !</h6>
    <button class="facebooklogin"><i class="fab fa-facebook fa-2x"></i><%= link_to "Continuer avec Facebook", user_facebook_omniauth_authorize_path %></button>                  
    <button class="googlelogin"><i class="fab fa-google fa-2x"></i><%= link_to "Continuer avec Google", user_google_oauth2_omniauth_authorize_path %></button>
</div>

<% end %>


<script>
// cache the element
var $navBar = $('.header');

// find original navigation bar position
var navPos = $navBar.offset().top;

// on scroll
$(window).scroll(function() {

    // get scroll position from top of the page
    var scrollPos = $(this).scrollTop();

    // check if scroll position is >= the nav position
    if (scrollPos >= navPos) {
        $navBar.addClass('fixed');
    } else {
        $navBar.removeClass('fixed');
    }

        if (scrollPos <= navPos) {
        $navBar.removeClass('fixed');
    } else {
        $navBar.addClass('fixed');
    }
});
</script>

<script>
function setFocused() {
  var results = document.querySelectorAll('.overlay, .fixe, .form-control.search,span.input-icon-addon,.easy-autocomplete input');
  for (result of results) {
    result.classList.add('focused');
  }
}

function unsetFocused() {
  var results = document.querySelectorAll('.overlay, .fixe, .form-control.search,span.input-icon-addon,.easy-autocomplete input');
  for (result of results) {
    result.classList.remove('focused');
  }
}

var results = document.querySelectorAll('input#q');
for (result of results) {
  result.addEventListener("focus", setFocused);
  result.addEventListener("blur", unsetFocused);
}
</script>

<script>
$(function () {
  $(document).scroll(function () {
    var $nav = $(".input-icon .form-control");
    $nav.toggleClass('scrolled', $(this).scrollTop() > 0);
  });
});
</script>

<script>
$('.navbar-brand').click(function() {
  $('.containershow').addClass('hidecontent');
});
</script>


<script>
var x, i, j, selElmnt, a, b, c;
/*look for any elements with the class "custom-select":*/
x = document.getElementsByClassName("custom-select");
for (i = 0; i < x.length; i++) {
  selElmnt = x[i].getElementsByTagName("select")[0];
  /*for each element, create a new DIV that will act as the selected item:*/
  a = document.createElement("DIV");
  a.setAttribute("class", "select-selected");
  a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
  x[i].appendChild(a);
  /*for each element, create a new DIV that will contain the option list:*/
  b = document.createElement("DIV");
  b.setAttribute("class", "select-items select-hide");
  for (j = 1; j < selElmnt.length; j++) {
    /*for each option in the original select element,
    create a new DIV that will act as an option item:*/
    c = document.createElement("DIV");
    c.innerHTML = selElmnt.options[j].innerHTML;
    c.addEventListener("click", function(e) {
        /*when an item is clicked, update the original select box,
        and the selected item:*/
        var y, i, k, s, h;
        s = this.parentNode.parentNode.getElementsByTagName("select")[0];
        h = this.parentNode.previousSibling;
        for (i = 0; i < s.length; i++) {
          if (s.options[i].innerHTML == this.innerHTML) {
            s.selectedIndex = i;
            h.innerHTML = this.innerHTML;
            y = this.parentNode.getElementsByClassName("same-as-selected");
            for (k = 0; k < y.length; k++) {
              y[k].removeAttribute("class");
            }
            this.setAttribute("class", "same-as-selected");
            break;
          }
        }
        h.click();
    });
    b.appendChild(c);
  }
  x[i].appendChild(b);
  a.addEventListener("click", function(e) {
      /*when the select box is clicked, close any other select boxes,
      and open/close the current select box:*/
      e.stopPropagation();
      closeAllSelect(this);
      this.nextSibling.classList.toggle("select-hide");
      this.classList.toggle("select-arrow-active");
    });
}
function closeAllSelect(elmnt) {
  /*a function that will close all select boxes in the document,
  except the current select box:*/
  var x, y, i, arrNo = [];
  x = document.getElementsByClassName("select-items");
  y = document.getElementsByClassName("select-selected");
  for (i = 0; i < y.length; i++) {
    if (elmnt == y[i]) {
      arrNo.push(i)
    } else {
      y[i].classList.remove("select-arrow-active");
    }
  }
  for (i = 0; i < x.length; i++) {
    if (arrNo.indexOf(i)) {
      x[i].classList.add("select-hide");
    }
  }
}
/*if the user clicks anywhere outside the select box,
then close all select boxes:*/
document.addEventListener("click", closeAllSelect);
</script>